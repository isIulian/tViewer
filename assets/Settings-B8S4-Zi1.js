import{r as l,k as e,l as p,ac as u,L as x,p as f,q as j,B as c,z as h}from"./index-BqNX3fUW.js";import{T as w}from"./theme-switch-Dv3xt-Vd.js";import{C as b,a as y,b as g,d as v,c as N}from"./card-Wb2xkf2W.js";function C(t){return new Promise((n,r)=>{const s=new FileReader;s.onload=a=>{a.target&&n(JSON.parse(a.target.result))},s.onerror=a=>r(a),s.readAsText(t)})}function R(t){var n=new Blob([t],{type:"application/json"});return n}const d=l.forwardRef(function({className:t,...n},r){const s=async a=>{if(a.target.files){const o=await C(a.target.files[0]);console.log(o),await u.importData(o)}};return e.jsx("input",{ref:r,className:p("",t),type:"file",accept:".json,application/json",onChange:s})});d.displayName="FileInput";const k=d;function D(){const t=l.useRef(null),n=()=>{t.current.click()},r=()=>{let s=h.getData(),a=R(JSON.stringify(s)),o=window.URL.createObjectURL(a);var i=document.createElement("a");i.setAttribute("download","tviewer-data.json"),i.href=o,document.body.appendChild(i),window.requestAnimationFrame(function(){var m=new MouseEvent("click");i.dispatchEvent(m),document.body.removeChild(i),window.URL.revokeObjectURL(o)})};return e.jsxs(x,{children:[e.jsxs(f,{className:"border-b",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight md:text-3xl",children:"Settings"}),e.jsx("div",{className:"ml-auto flex items-center space-x-4",children:e.jsx(w,{})})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs(b,{children:[e.jsxs(y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium",children:"Account data"}),e.jsx(v,{children:"Save or upload your previous data. Warning: all data will be overided"})]}),e.jsxs(N,{children:[e.jsx(c,{variant:"secondary",className:"mr-2",onClick:()=>r(),children:"Export"}),e.jsx(k,{ref:t,className:"hidden"}),e.jsx(c,{variant:"secondary",className:"mr-2",onClick:()=>n(),children:"Import"})]})]})})]})}export{D as default};
