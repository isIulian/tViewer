import{y as c,a5 as n}from"./index-PsDayEUa.js";async function f(r,s){let e=c.getData().resources;return r!==void 0&&(e=e.filter(t=>t.type===r)),s!==void 0&&(e=e.filter(t=>t.title.toLowerCase().includes(s))),e}async function d(r,s,e=1){let t=c.getData().resources;r!==void 0&&!isNaN(r)&&(t=t.filter(o=>o.type===r)),s!==""&&(t=t.filter(o=>o.title.toLowerCase().includes(s))),e<1&&(e=1);const i=10;let a=(e-1)*i,u=t.slice(a,a+i);return{totalPages:Math.ceil(t.length/i),currentPage:e,items:u}}async function l(r){let s=c.getData(),e=s.resources;if(e=e.filter(a=>a.id===r),e.length===0)return null;let t=e[0],i=s.types.find(a=>a.id===t.type);return t.resourceType=i,t}async function g(r){let s=c.getData(),e=s.resources,t=0;e.map(a=>{const u=a.id;t=Math.max(t,u)});let i={id:t+1,...r};e.push(i),s.resources=e,c.persistData(s)}async function D(r){let s=await l(r.id);if(s!==null){var e=n(r,s);if(e.length>0){for(const a of e)s[a]=r[a];let t=c.getData(),i=t.resources;i=i.filter(a=>a.id!==s.id),i.push(s),t.resources=i,c.persistData(t)}}}async function p(r){let s=c.getData(),e=s.resources.filter(t=>t.id!==r);s.resources=e,c.persistData(s)}async function R(r){let s=c.getData(),e=s.resources,t=s.tracks;if(r!==void 0&&(e=e.filter(i=>i.type===r)),t.length>0){let i=t.map(a=>a.resourceId);e=e.filter(a=>!i.includes(a.id))}return e}const k={getResources:f,getPagedResources:d,getResource:l,createResource:g,updateResource:D,deleteResource:p,getUntrackedResources:R};export{k as r};
